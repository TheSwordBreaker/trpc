---
slug: announcing-trpc-11
title: Announcing tRPC v11
author: tRPC
author_title: The tRPC Team
author_url: https://trpc.io/
author_image_url: /img/logo.svg
---

{/* // TODO: can't make author_image_url work */}

import { GithubSponsorButton } from '@site/src/components/GithubSponsorButton';

Although tRPC v11 has been stable for a long time via the `@next` tag, we've been kinda addicted to adding new features and goodies over the last 12 months in preparation for a big release. Today, we're excited to announce the official release of tRPC v11! This release is the result of months of hard work by [Katt](https://twitter.com/alexdotjs), the core team, and the community. We're excited to share all the new features and improvements with you.

{/* truncate */}

Since our last major version release in November 2022, the tRPC community has seen substantial growth:

- We now have nearly [35,000 stars on GitHub](https://github.com/trpc/trpc)
- [A Discord community](https://trpc.io/discord) with over 5,000 members
- [650k+ weekly npm downloads](https://www.npmjs.com/package/@trpc/server)
- [100s of contributors](https://github.com/trpc/trpc/graphs/contributors)
- [An _awesome_ ecosystem of extensions, examples, and content](https://trpc.io/awesome)

**With the launch of tRPC v11**, we're excited to share that v11 is already being used in production by many large TypeScript projects thanks to its stable evolution on `@next`. This official release though marks the end of an exciting development cycle which brings support for Tanstack Query v5, Next.js App Router, and a lot of other goodies.

For new projects, you can get up and running with an [example application](https://trpc.io/awesome#-starting-points-example-projects-etc) to learn about tRPC v11. For projects still on tRPC v10, [visit the v11 migration guide](https://trpc.io/docs/v11/migrate-from-v10-to-v11).

## Overview of changes

v11 is a largely backward-compatible release with v10, but it brings a lot of new features and improvements. Here are some of the highlights:

### TanStack Query v5 support

When [TanStack Query v5](https://tanstack.com/blog/announcing-tanstack-query-v5) was released it necessitated some breaking changes within tRPC's react-query integration. This has been available since quite early on via the `@next` tag, but now it's officially released. Many projects have already chosen to upgrade over recent months and are enjoying the benefits of full React Suspense support and many other improvements, for advice on migrating your tRPC React client code you can follow [TanStack Query's own migration guide](https://tanstack.com/query/v5/docs/react/guides/migrating-to-v5).

TODO: some code example

### Content Types

One of our most requested features is the ability to send and receive more than simply JSON data. With tRPC v11, you can now send and receive data in a variety of content types, including JSON, form data, and blobs.

TODO: code example

### Next.js app router

{/* TODO: @julius input needed here */}

TODO:

### Streaming Responses from Queries and Mutations

We've introduced [httpBatchStreamLink](/docs/client/links/httpBatchStreamLink), which allows you to stream responses from queries. This is helpful when working with large datasets or where you need to process data in real-time and dispatch to the frontend as you go. This is not a replacement for subscriptions, but is another option in your toolbelt.

TODO: code example

#### useSuspenseQueries

We've introduced a new hook called `useSuspenseQueries` which allows you to fetch multiple queries in parallel and suspend until all queries are resolved. When writing `Fetch on Render` style applications, a possible foot-gun is where you need to run several suspense queries at once and you end up with a waterfall. `useSuspenseQueries` is a way to put this problem further off without need to rewrite to `Render as you Fetch` style with prefetching.

TODO: code example

### Improvements to Subscriptions

Subscriptions are a great way to listen for real-time updates in your application. In tRPC v11, we've made several improvements to this feature-set

#### Server-Sent Events based Subscriptions

tRPC v11 introduces a new way to handle subscriptions using [Server-Sent Events (SSE)](/docs/server/subscriptions#websockets-or-server-sent-events). This is a great way to handle real-time updates in your application without the need for more complex WebSockets. The feature is still young and evolving so we're looking for further feedback from the community as it evolves.

#### Generators in Subscriptions

We've added support for JavaScript generators in subscriptions. This allows you to write more complex subscription handlers which can yield multiple values over time, and clean up when finished, in a very JS-native way.

TODO: more details and code example

#### Output Validators

Subscriptions now support Output validators, improving the type-safety of your subscription handlers.

TODO: code example

### Goodbye v9 `.interop()`-mode

In tRPC v10, we introduced the `.interop()`-mode to provide a smooth migration path for tRPC v9 users. With tRPC v11, we've removed the `.interop()`-mode. If you're still using the `.interop()`-mode, you can use the [v10 migration guide](https://trpc.io/docs/v10/migrate-from-v9-to-v10) to complete your transition to the APIs used by tRPC today.

## Migrating to v11

If you're currently using tRPC v10, you can follow the [migration guide](https://trpc.io/docs/v11/migrate-from-v10-to-v11) to upgrade to v11. The migration guide covers all the breaking changes and new features in v11.

## Thank you!

From the whole tRPC Core Team, thank you for using and supporting tRPC.

---

- Follow [@trpcio](https://twitter.com/trpcio) on Twitter.
- Join our [Discord-community](https://trpc.io/discord)
- [Try out tRPC in your browser](https://trpc.io/#try-it-out)

<GithubSponsorButton />
